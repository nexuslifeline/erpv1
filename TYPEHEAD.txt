<link href="assets/plugins/twittertypehead/twitter.typehead.css" rel="stylesheet">



<script src="assets/plugins/twittertypehead/handlebars.js"></script>
<script src="assets/plugins/twittertypehead/bloodhound.min.js"></script>
<script src="assets/plugins/twittertypehead/typeahead.bundle.min.js"></script>
<script src="assets/plugins/twittertypehead/typeahead.jquery.min.js"></script>





<div id="the-basics">
                                                       <input class="typeahead form-control" type="text" placeholder="States of USA">
                                                   </div>


                                                   <div id="custom-templates">
                                                       <input class="typeahead" type="text" placeholder="Oscar winners for Best Picture">
                                                   </div>



	var raw_data=[
            {
                "id": "12",
                "description": "West Side Story"
            },
            {
                "id": "123",
                "description": "Lawrence of Arabia"
            },
            {
                "id": "1234",
                "description": "Tom Jones"
            }];


            var products = new Bloodhound({
                datumTokenizer: Bloodhound.tokenizers.obj.whitespace('id','description'),
                queryTokenizer: Bloodhound.tokenizers.whitespace,
                local : raw_data
            });

        var _objTypeHead=$('#custom-templates .typeahead');

        _objTypeHead.typeahead(null, {
            name: 'products',
            display: 'description',
            source: products,
            templates: {
                header: [
                    '<table width="100%"><tr><td width="50%" style="padding-left: 1%"><b>PLU</b></td><td width="30%" align="left"><b>Product</b></td></tr></table>'
                ].join('\n'),

                suggestion: Handlebars.compile('<table width="100%"><tr><td width="50%" style="padding-left: 1%">{{id}}</td><td width="30%" align="left">{{description}}</td></tr></table>')

            }
        }).on('keyup', this, function (event) {
            if (event.keyCode == 13) {
                $('.tt-suggestion:first').click();
                _objTypeHead.typeahead('close');
                _objTypeHead.typeahead('val','');
            }
        }).bind('typeahead:select', function(ev, suggestion) {
            if(_objTypeHead.typeahead('val')==''){ return false; }
            alert(suggestion.id);
        });

        $('div.tt-menu').on('click','table.tt-suggestion',function(){
            _objTypeHead.typeahead('val','');
        });
